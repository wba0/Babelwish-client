<div class="container-fluid mx-auto">
	<div class="logo-complement"></div>

	<div id="user-info" class="text-center mx-auto">
		<img src="{{userInfo.avatarUrl}}" alt="">
		<h4>Go to <a [routerLink]="['/users', userInfo._id]">My Profile</a></h4>
		<h2 class="text-center">Welcome, {{userInfo.username}}</h2>

	</div>


	<div class="row justify-content-center">
		<div class="col-2">
			<div class="nav flex-column nav-pills" id="tabs" role="tablist">
				<h4>Jobs you have created</h4>
				<a class="nav-link" [ngClass]="{'active': selectedTab === 1}" (click)="switchToOwnedJobs(1)">Posted Jobs<div class="job-count"*ngIf="jobCounts.ownedJobs"><span>{{jobCounts.ownedJobs}}</span></div></a>
				<a class="nav-link" [ngClass]="{'active': selectedTab === 2}" (click)="switchToOwnedActiveJobs(2)">Active Jobs<div class="job-count"*ngIf="jobCounts.ownedActiveJobs"><span>{{jobCounts.ownedActiveJobs}}</span></div></a>
				<a class="nav-link" [ngClass]="{'active': selectedTab === 3}" (click)="switchToOwnedTranslatedJobs(3)">Translated Jobs<div class="job-count" *ngIf="jobCounts.ownedTranslatedJobs"><span>{{jobCounts.ownedTranslatedJobs}}</span></div></a>
				<a class="nav-link" [ngClass]="{'active': selectedTab === 4}" (click)="switchToOwnedFinishedJobs(4)">Finished Jobs<div class="job-count" *ngIf="jobCounts.ownedFinishedJobs"><span>{{jobCounts.ownedFinishedJobs}}</span></div></a>
				<hr>
				<h4>Jobs you are translating</h4>

				<a class="nav-link" [ngClass]="{'active': selectedTab === 5}" (click)="switchToWorkingActiveJobs(5)">Active Jobs<div class="job-count"*ngIf="jobCounts.workingJobs"><span>{{jobCounts.workingJobs}}</span></div></a>
				<a class="nav-link" [ngClass]="{'active': selectedTab === 6}" (click)="switchToWorkedTranslatedJobs(6)">Translated Jobs<div class="job-count"*ngIf="jobCounts.workingTranslatedJobs"><span>{{jobCounts.workingTranslatedJobs}}</span></div></a>
				<a class="nav-link" [ngClass]="{'active': selectedTab === 7}" (click)="switchToWorkedFinishedJobs(7)">Finished Jobs<div class="job-count"*ngIf="jobCounts.workingFinishedJobs"><span>{{jobCounts.workingFinishedJobs}}</span></div></a>
			</div>
		</div>
		<div class="col-8">
			<div class="tab-content" id="tabContent">
				<div class="tab-pane fade show active" id="created-posted-jobs" role="tabpanel" aria-labelledby="created-posted-jobs-tab">
					<div class="row">
						<div *ngFor="let job of jobsToShow" class="dashboard-job-list col-4">
							<div class="job-status">
								<h4><i class="fa fa-heartbeat" aria-hidden="true"></i>Status:</h4>
								<h3 *ngIf="jobsToShow === ownedJobs" class="job-card-title awaiting-applicants">Awaiting Applicants</h3>
								<h3 *ngIf="jobsToShow === ownedActiveJobs" class="job-card-title translation-in-progress">Translation in Progress</h3>
								<h3 *ngIf="jobsToShow === ownedTranslatedJobs " class="job-card-title job-card-button awaiting-payment" data-toggle="modal" data-target=".view-translation-modal" (click)="setUpPaypal(job)">Review Translation</h3>
								<h3 *ngIf="jobsToShow === ownedFinishedJobs " class="text-center job-card-button created-finished" data-toggle="modal" data-target=".view-finished-translation-modal">See Translation</h3>
								<h3 *ngIf="jobsToShow === workingActiveJobs " class="job-card-title working-active"><a [routerLink]="['/jobs', job._id]">Resume Work</a>
								</h3>
								<h3 *ngIf="jobsToShow === workedTranslatedJobs " class="job-card-title awaiting-approval"> Awaiting Approval
								</h3>
								<h4 *ngIf="jobsToShow === workedFinishedJobs " class="job-card-title working-finished-job">{{job.price}} donated to {{job.beneficiaryId.name}}. Thank you!!</h4>
							</div>

						<div>
							<h4><i class="fa fa-language" aria-hidden="true" title="Translation"></i>Translation</h4>

							<p class="translation-flags"> <span class="flag-icon flag-icon-{{job.sourceLanguageIsoCode}}" title="{{job.sourceLanguage}}"></span>
								<i class="fa fa-arrow-right" aria-hidden="true"></i><span class="flag-icon flag-icon-{{job.targetLanguageIsoCode}}" title="{{job.targetLanguage}}"></span>
							</p>

							<p class="translation-content"> <i class="fa fa-quote-left" aria-hidden="true" title="Content"></i> {{job.content}} ...
							</p>
						</div>
						<div>
							<h4><i class="fa fa-pencil-square-o" aria-hidden="true" title="Details"></i>Details</h4>

							<p *ngIf="job.worker"><i class="fa fa-handshake-o" aria-hidden="true" title="Worker"></i> {{job.worker.username}}
							</p>
							<p *ngIf="job.beneficiaryId"><i class="fa fa-heart" aria-hidden="true" title="Beneficiary"></i> {{job.beneficiaryId.name}}
							</p>
							<p> <i class="fa fa-calculator" aria-hidden="true" Title="Word/Character Count"></i> {{job.wordCount}} words/characters
							</p>
							<p> <i class="fa fa-usd" aria-hidden="true" title="Price"></i> {{job.price}}
							</p>
						</div>
						<div>
							<h4>
							<i class="fa fa-retweet" aria-hidden="true" title="Flow"></i>Flow</h4>
							<p>Undergoing work:
								<span *ngIf="job.undergoingWork" style="color: green"><i class="fa fa-check-square-o" aria-hidden="true"></i></span>
								<span *ngIf="!job.undergoingWork" style="color: crimson"><i class="fa fa-times-circle-o" aria-hidden="true"></i></span>
							</p>
							<p>Awaiting payment:
								<span *ngIf="job.finishedNotPaid" style="color: green"><i class="fa fa-check-square-o" aria-hidden="true"></i></span>
								<span *ngIf="!job.finishedNotPaid" style="color: crimson"><i class="fa fa-times-circle-o" aria-hidden="true"></i></span>
							</p>
							<p>Finished and Paid:
								<span *ngIf="job.finishedAndPaid" style="color: green"><i class="fa fa-check-square-o" aria-hidden="true"></i></span>
								<span *ngIf="!job.finishedAndPaid" style="color: crimson"><i class="fa fa-times-circle-o" aria-hidden="true"></i></span>
							</p>
						</div>

						<div *ngIf="job.applicants.length < 0">
							<h4><i class="fa fa-users" aria-hidden="true"></i>Applicants:</h4>
							<ul>
								<li class="applicant-list" *ngFor="let applicant of job.applicants">
									<h4><a [routerLink]="['/users', applicant._id]">{{applicant.username}}</a></h4>
									<i class="fa fa-check accept-icon" aria-hidden="true" title="Accept Applicant" (click)="acceptOrRejectApplicant(job._id, applicant._id, 'accept')"></i><i class="fa fa-times reject-icon" aria-hidden="true" title="Reject Applicant" (click)="acceptOrRejectApplicant(job._id, applicant._id, 'reject')"></i>
								</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
